<ion-header>
  <ion-toolbar color="tertiary">
      <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
 
  
  <!-- <ion-item>
      <ion-label floating>Email Address:</ion-label>
      <ion-input type="text" [(ngModel)]="user.email"></ion-input>
  </ion-item>

  <ion-item>
      <ion-label floating>Password:</ion-label>
      <ion-input type="password" [(ngModel)]="user.password"></ion-input>
  </ion-item>

  <div class="but">
      <ion-button (click)="login(user)"[routerLink]="['/home']">Login</ion-button>
      <ion-button (click)="register(user)" [routerLink]="['/register']">Register</ion-button>
  </div> -->
  <!-- <div class="form-group">
    <label for="email">Email       </label>
    <input type="email" class="form-control" [(ngModel)]="emailInput"
      id="email" placeholder="Email">
  </div>
  <br>
  <div class="form-group" *ngIf="!isForgotPassword">
    <label for="password">Password           </label>
    <input type="password" class="form-control"
      [(ngModel)]="passwordInput" id="password" placeholder="Password">
  </div><br>
  <div class="form-group" *ngIf="!isForgotPassword">
 
    <span *ngIf="selectedVal == 'login'; else elseBlock">
      <button type="button" class="btn btn-primary" (click)="loginUser()">Log
        In</button>
    </span>
    <ng-template #elseBlock>
      <button type="button" class="btn btn-primary"
        (click)="registerUser()">Register</button>
    </ng-template>
    &nbsp;
    &nbsp;
    &nbsp;
    <a href="javascript:void(0)" (click)="this.isForgotPassword= true;">Forgot
      Password?</a>

  </div>







  <div class="form-group" *ngIf="isForgotPassword">
 
      <button type="button" class="btn" (click)="this.isForgotPassword=
        false;">Cancel</button>
        


      <button type="button" class="btn btn-primary"
        (click)="forgotPassword()">Get email to reset passowrd</button>
    </div>
    
     -->



    <!-- <div class="text-center" style="width: 100%;margin: 20px;">
      <h4>Angular 7 Email/ Password & Google Login Using Firebase Demo</h4>
    </div> -->
    <div class="" style="width: 500px; margin: auto">
   
      <div class="card">
        <!-- When Uses is Not Logged In -->
        <div class="card-body" *ngIf="!userDetails">
          <div class="row">
            <div class="col-sm-12 text-center">
              <div class="btn-group">
                <ion-button type="button" class="btn" [ngClass]="{'btn-primary
                  active': selectedVal == 'login' }"
                  (click)="onValChange('login')"><strong>Login</strong></ion-button>
                <ion-button type="button" class="btn" [ngClass]="{'btn-primary
                  active': selectedVal == 'register' }"
                  (click)="onValChange('register')"><strong>Register</strong></ion-button>
              </div>
   
            </div>
          </div>
   
          <div class="form-group">
            <ion-label for="email">Email</ion-label>
            <ion-input type="email" class="form-control" [(ngModel)]="emailInput"
              id="email" placeholder="Email"></ion-input>
          </div>
          <div class="form-group" *ngIf="!isForgotPassword">
            <ion-label for="password">Password</ion-label>
            <ion-input type="password" class="form-control"
              [(ngModel)]="passwordInput" id="password" placeholder="Password"></ion-input>
          </div>
          <div class="form-group" *ngIf="!isForgotPassword">
   
            <span *ngIf="selectedVal == 'login'; else elseBlock">
              <ion-button type="button" class="btn btn-primary" (click)="loginUser()">Log
                In</ion-button>
            </span>
            <ng-template #elseBlock>
              <ion-button type="button" class="btn btn-primary"
                (click)="registerUser()">Register</ion-button>
            </ng-template>
            &nbsp;
            &nbsp;
            &nbsp;
            <a href="javascript:void(0)" (click)="this.isForgotPassword= true;">Forgot
              Password?</a>
   
          </div>
          <div class="form-group" *ngIf="isForgotPassword">
   
            <ion-button type="button" class="btn" (click)="this.isForgotPassword=
              false;">Cancel</ion-button>
            <ion-button type="button" class="btn btn-primary"
              (click)="forgotPassword()">Get email to reset passowrd</ion-button>
          </div>
          <div class="form-group text-center">
            <img src="../assets/g.jpg" alt="" srcset=""
              (click)="googleLogin()" style="cursor: pointer;" width="350px">
          </div>
   
        </div>
   
        <!-- When Uses is Logged In using Email or Google Account -->
        <div class="card-body" *ngIf="userDetails">
          <div class="row">
            <div class="col-sm-12">
              <ul class="list-group">
                <li class="list-group-item">Display Name:
                  {{userDetails['displayName']}}</li>
                <li class="list-group-item">Email: {{userDetails['email']}}</li>
                <li class="list-group-item">Is Email Varified:
                  {{userDetails['emailVerified']}}</li>
                <li class="list-group-item">
                  <ion-button type="button" class="btn btn-danger"
                    (click)="logoutUser()">Logout</ion-button>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="alert alert-{{responseMessageType}}" role="alert"
        *ngIf="responseMessage.length">
        {{responseMessage}}
      </div>
    </div>
<br>
<br>


      
<div [hidden]="user">
  <h1>Sign In with Your Phone Number</h1>

  <label for="phone">Phone Number</label><br>
  <input type="text" [(ngModel)]="phoneNumber.country" class="input" placeholder="1" maxlength="2">
  <input type="text" [(ngModel)]="phoneNumber.area" class="input" placeholder="949" maxlength="3">
  <input type="text" [(ngModel)]="phoneNumber.prefix" class="input" placeholder="555" maxlength="3">
  <input type="text" [(ngModel)]="phoneNumber.line" class="input" placeholder="5555" maxlength="4">

  <div id="recaptcha-container"></div>

  <button (click)="sendLoginCode()">SMS Text Login Code</button>

  <div *ngIf="windowRef.confirmationResult">
      <hr>
      <label for="code">Enter your Verification Code Here</label><br>
      <input type="text" name="code" [(ngModel)]="verificationCode">

      <button (click)="verifyLoginCode()">Verify</button>
  </div>

</div>

<div *ngIf="user">
  You have successfully logged in with your phone number! UserId: {{ user?.uid }}

</div>
  
  </ion-content>